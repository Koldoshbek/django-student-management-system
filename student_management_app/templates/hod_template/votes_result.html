{% extends 'hod_template/base_template.html' %}
{% load template_tags %}
{% block page_title %}
    Сурамжылоо жыйынтыктары
{% endblock page_title %}
{% block main_content %}
    {% load static %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
        * {
            box-sizing: border-box;
        }

        .row{
            margin: 0;
        }

        .heading {
            font-size: 25px;
            margin-right: 25px;
        }

        .fa {
            font-size: 25px;
        }

        .checked {
            color: orange;
        }

        /* Три колонки макет */
        .side {
            float: left;
            width: 15%;
            margin-top: 10px;
        }

        .middle {
            margin-top: 10px;
            float: left;
            width: 70%;
        }

        /* Поместите текст справа */
        .right {
            text-align: right;
        }

        /* Очистить поплавки после столбцов */
        .row:after {
            content: "";
            display: table;
            clear: both;
        }

        /* Бар контейнер */
        .bar-container {
            width: 100%;
            background-color: #f1f1f1;
            text-align: center;
            color: white;
        }


        /* Адаптивный макет - заставьте столбцы складываться друг на друга, а не рядом друг с другом */
        @media (max-width: 400px) {
            .side, .middle {
                width: 100%;
            }

            .right {
                display: none;
            }
        }
    </style>
    <section class="content">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-12">
                    <div class="card">
                        <div class="card-header">
                            <h3 class="card-title">Сурамжылоо жыйынтыктары</h3>


                        </div>
                        <div class="card-body table-responsive p-0">
                            <div class="mark">
                                <h1>Пользовательский рейтинг</h1>

                                <span class="heading">рейтинг пользователей</span>
                                <span class="fa fa-star checked"></span>
                                <span class="fa fa-star checked"></span>
                                <span class="fa fa-star checked"></span>
                                <span class="fa fa-star checked"></span>
                                <span class="fa fa-star"></span>
                                <hr style="border:3px solid #f1f1f1">
                                {% for subject, value in results.items %}
                                <span class="heading">Сабак аты: {{ subject }} - {% get_staff_name subject %}</span>
                                <div class="row">
                                {% for key, value in value.items %}
                                             <br>

                                    <div class="side">
                                        <div> {{ key }} </div>
                                    </div>
                                    <div class="middle">
                                        <div class="bar-container">
                                            <div style="width: {{ value.mark }}%;height: 20px;background-color: #4CAF50;"></div>
                                        </div>
                                    </div>
                                    <div class="side right">
                                        <div>{{ value.mark }}</div>
                                    </div>

                          {% endfor %}
                                </div>
                                    <p style="text-align: right; font-weight: bold; color: red; font-size: 24px">{% get_average value.items %}</p>
                                {% endfor %}
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

{% endblock main_content %}